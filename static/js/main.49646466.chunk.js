(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(7),r=n.n(o),s=(n(14),n(2)),i=n(0);var u=function(){return Object(i.jsx)("header",{className:"header",children:Object(i.jsx)("div",{className:"header__logo"})})},l=n(6);var p=function(e){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("article",{className:"card",children:[Object(i.jsx)("img",{src:"".concat(e.card.link),alt:"untitled image",className:"card__pic",onClick:function(){e.onCardClick(e.card)}}),Object(i.jsx)("button",{type:"button",className:"card__delete","aria-label":"delete-card",onClick:function(){e.onDeletePlaceClick(e.card)}}),Object(i.jsxs)("div",{className:"card__content",children:[Object(i.jsx)("h2",{className:"card__title",children:e.card.name}),Object(i.jsxs)("div",{className:"card__like-container",children:[Object(i.jsx)("button",{type:"button",className:"card__like-btn","aria-label":"like"}),Object(i.jsx)("p",{className:"card__like-total",children:e.card.likes.length})]})]})]})})},d=n(8),j=n(9),b=new(function(){function e(t,n){Object(d.a)(this,e),this.url=t,this.options=n,this.groupId="group-12"}return Object(j.a)(e,[{key:"getUserData",value:function(){return fetch("".concat(this.url).concat(this.groupId,"/users/me"),this.options).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.url,"/").concat(this.groupId,"/cards"),this.options).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"updateUser",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/users/me"),{method:"PATCH",headers:this.options.headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"addCard",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/cards"),{method:"POST",headers:this.options.headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/cards/").concat(e),{method:"DELETE",headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"addLike",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/cards/likes/").concat(e),{method:"PUT",headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"removeLike",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/cards/likes/").concat(e),{method:"DELETE",headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"changeProfilePic",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/users/me/avatar"),{method:"PATCH",headers:this.options.headers,body:JSON.stringify({avatar:e.avatar})}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}}]),e}())("https://around.nomoreparties.co/v1/",{method:"GET",headers:{authorization:"e09604a5-57aa-4b20-9a83-ea66e5c6924b","Content-Type":"application/json"}});var h=function(e){var t=Object(c.useState)(),n=Object(s.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)(),u=Object(s.a)(r,2),d=u[0],j=u[1],h=Object(c.useState)(),m=Object(s.a)(h,2),_=m[0],O=m[1],f=Object(c.useState)([]),x=Object(s.a)(f,2),k=x[0],g=x[1],v={backgroundImage:"url(".concat(_,")")};return Object(c.useEffect)((function(){return b.getUserData().then((function(e){o(e.name),O(e.avatar),j(e.about)})).catch((function(e){return"Error: ".concat(e)})),function(){}}),[]),Object(c.useEffect)((function(){return b.getInitialCards().then((function(e){g([].concat(Object(l.a)(e),Object(l.a)(k)))})).catch((function(e){return"Error: ".concat(e)})),function(){}}),[]),Object(i.jsxs)("main",{className:"content",children:[Object(i.jsxs)("section",{className:"profile",children:[Object(i.jsxs)("div",{className:"profile__container",children:[Object(i.jsx)("div",{className:"profile__avatar",style:v,children:Object(i.jsx)("button",{type:"button",className:"profile__edit-avatar","aria-label":"edit-avatar",onClick:e.onEditAvatarClick})}),Object(i.jsxs)("div",{className:"profile__detail",children:[Object(i.jsxs)("div",{className:"profile__text",children:[Object(i.jsx)("h1",{className:"profile__name",children:a}),Object(i.jsx)("p",{className:"profile__job",children:d})]}),Object(i.jsx)("button",{type:"button",className:"profile__edit-btn","aria-label":"edit-name",onClick:e.onEditProfileClick})]})]}),Object(i.jsx)("button",{type:"button",className:"profile__add-btn","aria-label":"add-profile",onClick:e.onAddPlaceClick})]}),"``",Object(i.jsx)("section",{className:"cards",children:k.map((function(t,n){return Object(i.jsx)(p,{card:t,onCardClick:e.onCardClick,onDeletePlaceClick:e.onDeletePlaceClick},n)}))})]})};var m=function(){return Object(i.jsx)("footer",{className:"footer",children:"\xa9 2021 Around The U.S."})};function _(e){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen?"popup_opened":""," "),children:Object(i.jsxs)("form",{name:"form-".concat(e.name),method:"post",className:"popup__form popup__".concat(e.name," "),noValidate:!0,children:[Object(i.jsx)("h3",{className:"popup__title",children:e.title}),e.children,Object(i.jsx)("button",{type:"submit",className:"popup__btn popup__btn_type_save","aria-label":"save","data-text-original":"".concat(e.btnText),"data-text-saving":"".concat(e.loadingBtnText),children:e.btnText}),Object(i.jsx)("button",{type:"button",className:"popup__btn popup__btn_type_close","aria-label":"close",onClick:e.onClose})]})})})}function O(e){return Object(i.jsxs)(_,{title:"Edit Profile",name:"edit-profile",btnText:"Save",isOpen:e.isOpen,loadingBtnText:"Saving...",onClose:e.onClose,children:[Object(i.jsx)("input",{type:"text",name:"name",className:"popup__input popup__input_type_name",placeholder:"Name",id:"name-input",required:!0}),Object(i.jsx)("span",{className:"popup__error name-input-error"}),Object(i.jsx)("input",{type:"text",name:"about",className:"popup__input popup__input_type_job",placeholder:"About me",id:"job-input",required:!0}),Object(i.jsx)("span",{className:"popup__error job-input-error"})]})}function f(e){return Object(i.jsxs)(_,{title:"New Place",name:"add-card",btnText:"Create",isOpen:e.isOpen,loadingBtnText:"Saving...",onClose:e.onClose,children:[Object(i.jsx)("input",{type:"text",name:"name",className:"popup__input popup__input_type_img-title",placeholder:"Title",id:"img-input",required:!0}),Object(i.jsx)("span",{className:"popup__error img-input-error"}),Object(i.jsx)("input",{type:"text",name:"link",className:"popup__input popup__input_type_link",placeholder:"Image link",id:"link-input",required:!0}),Object(i.jsx)("span",{className:"popup__error link-input-error"})]})}function x(e){return Object(i.jsx)(_,{title:"Are you sure?",name:"confirm-delete",btnText:"Yes",isOpen:e.isOpen,onClose:e.onClose})}function k(e){return Object(i.jsxs)(_,{title:"Change profile picture",name:"edit-avatar",btnText:"Yes",isOpen:e.isOpen,loadingBtnText:"Saving...",onClose:e.onClose,children:[Object(i.jsx)("input",{type:"text",name:"avatar",className:"popup__input popup__input_type_link",placeholder:"Image link",id:"avatar-input",required:!0}),Object(i.jsx)("span",{className:"popup__error avatar-input-error"})]})}var g=function(e){return Object(i.jsx)("div",{className:"popup ".concat(e.isOpen?"popup_opened":""," "),"data-image":"popup__view_image",children:Object(i.jsxs)("figure",{className:"popup__card",children:[Object(i.jsx)("img",{src:"".concat(e.selectedCard),className:"popup__img",alt:"untitled image"}),Object(i.jsx)("figcaption",{className:"popup__img-caption"}),Object(i.jsx)("button",{type:"button",className:"popup__btn popup__btn_type_close","aria-label":"close",onClick:e.onClose})]})})};var v=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(!1),r=Object(s.a)(o,2),l=r[0],p=r[1],d=Object(c.useState)(!1),j=Object(s.a)(d,2),b=j[0],_=j[1],v=Object(c.useState)(!1),C=Object(s.a)(v,2),N=C[0],y=C[1],E=Object(c.useState)(!1),P=Object(s.a)(E,2),T=P[0],S=P[1],I=Object(c.useState)(""),w=Object(s.a)(I,2),A=w[0],D=w[1];function L(){_(!1),a(!1),p(!1),y(!1),S(!1),D("")}function B(e){"Escape"===e.key&&L()}return Object(c.useEffect)((function(){return document.onclick=function(e){e.target.classList.contains("popup_opened")&&L()},function(){}}),[]),Object(c.useEffect)((function(){return window.addEventListener("keydown",B),function(){window.removeEventListener("keydown",B)}}),[]),Object(i.jsx)("div",{className:"root",children:Object(i.jsxs)("div",{className:"root__container",children:[Object(i.jsx)(u,{}),Object(i.jsx)(h,{onEditProfileClick:function(){a(!0)},onAddPlaceClick:function(){p(!0)},onEditAvatarClick:function(){_(!0)},onDeletePlaceClick:function(e){S(!0),D(e._id)},onCardClick:function(e){y(!0),D(e.link)}}),Object(i.jsx)(m,{}),Object(i.jsx)(O,{isOpen:n,onClose:L,on:!0}),Object(i.jsx)(f,{isOpen:l,onClose:L}),Object(i.jsx)(x,{isOpen:T,onClose:L}),Object(i.jsx)(k,{isOpen:b,onClose:L}),Object(i.jsx)(g,{isOpen:N,onClose:L,selectedCard:A})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root")),C()}},[[16,1,2]]]);
//# sourceMappingURL=main.49646466.chunk.js.map